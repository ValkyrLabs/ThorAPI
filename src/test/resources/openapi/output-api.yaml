openapi: 3.0.1
info:
  title: THORAPI CORE API
  description: The API for accessing ValkyrAI services
  termsOfService: https://valkyrlabs.com/tos/
  contact: {email: info@valkyrlabs.com}
  license: {name: AGPL 3.0, url: 'https://www.gnu.org/licenses/agpl-3.0.html'}
  version: 0.9.25
externalDocs: {description: Learn more about ValkyrAI, url: 'https://valkyrlabs.com/vai/docs'}
servers:
- {url: 'http://localhost:8080/v1', description: local server (uses live data)}
- {url: 'https://valkyrlabs.com/v1', description: production server}
tags:
- {name: admins, description: Secured Admin-only calls}
- {name: users, description: Operations available to regular users}
- {name: spreadsheets, description: Pertaining to spreadsheets operations}
paths: null
components:
  parameters:
    id:
      name: id
      in: path
      required: true
      description: The unique identifier of the object to retrieve.
      schema: {type: string, format: uuid}
  schemas:
    SecureKey:
      type: object
      description: SecureKey is the KMS for the SecureField keys
      x-valkyrai-service: microservice
      properties:
        notes: {description: any notes about the key, type: string, maxLength: 1000,
          example: This key was generated by the system, x-field-extra-annotation: '@Column(length
            = 1000)'}
        algorithm: {description: the algorithm used for encryption/decryption, type: string}
        version: {description: the version of this key, type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        cipherWorkCost: {description: the exponential strength of the BCrypt hashing
            used by the Hashing cipher, example: 12, type: integer, minimum: 10, maximum: 35}
        keyValue: {description: the key itself, type: string, minLength: 10}
        status:
          type: string
          enum: [ACTIVE, DEFAULT, ARCHIVED, REVOKED, INVALID]
          x-enum-descriptions: [Key is actively used, Key is the default to use when
              no specif key is provided, Key is not being used but still valid, Key
              is revoked and MUST NOT be used, Key is invalid and will not work]
          x-enum-varnames: [keyActive, keyDefault, keyArchived, keyRevoked, keyInvalid]
        id:
          description: Unique identifier for object in the system
          example: 8bf51fc2-7ee6-4bba-87c1-b28dcca303e4
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: 8cf5787c-590a-4e16-8a49-f0234d432d51,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        lastAccessedById: {description: Last user to access object, example: 8314df2c-27ea-41ce-9aea-cc1fa210f2a2,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: c4db5368-ed0d-437e-8baf-ea7501a8fb78,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      required: [algorithm, version, keyValue, status]
    EventLog:
      type: object
      description: Logs specific Workflow Related Events
      properties:
        eventDetails: {type: string, description: detailed event description}
        status:
          type: string
          enum: [ok, error, disabled]
          description: status for event
        id:
          description: Unique identifier for object in the system
          example: 378de0c4-ce77-4b15-bcdf-3132444ab75b
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: d67b8585-1580-42ea-8e09-febbc00cff79,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: e33bb1da-aec4-42d5-8990-5be2dc7c9494,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 4d6a662a-5923-41ac-96c5-766a372b6f53,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      xml: {name: EventLog}
    Principal:
      required: [email, password, username]
      type: object
      description: The Valkyr Principal. Represents a user, service, or agent in the
        system with preferences and privileges.
      properties:
        firstName:
          type: string
          description: first name of user (encrypted)
          example: Peace
          x-thorapi-dataField: fieldGroup=personal-details
          x-thorapi-secureField: true
          x-field-extra-annotation: |-
            @DataField(unique = false, hidden = false, advanced = false)
            @SecureField(encryptionType = SecureField.EncryptionType.SYMMETRIC, strength = 5)
        middleName:
          type: string
          description: middle name of user
          example: Love
          x-thorapi-dataField: fieldGroup=personal-details
          x-thorapi-secureField: true
          x-field-extra-annotation: |-
            @DataField(unique = false, hidden = false, advanced = false)
            @SecureField(encryptionType = SecureField.EncryptionType.SYMMETRIC, strength = 5)
        lastName: {type: string, description: last name of user (encrypted), example: Harmony,
          x-thorapi-secureField: true, x-field-extra-annotation: '@SecureField(encryptionType
            = SecureField.EncryptionType.SYMMETRIC, strength = 5)'}
        username:
          maxLength: 60
          minLength: 5
          type: string
          description: Your account user name
          example: Sparky
          x-thorapi-dataField: fieldGroup=personal-details, unique=true
          x-field-extra-annotation: |-
            @DataField(unique = true, hidden = false, advanced = false)
            @Column(length = 60, unique = true)
        password: {minLength: 8, type: string, description: Your account password,
          format: password, writeOnly: true, example: HardToGuess1980, x-field-extra-annotation: '@SecureField(encryptionType
            = SecureField.EncryptionType.HASHED, strength = 10)'}
        fingerprint:
          type: string
          description: Encrypted identity (Facial Recognition, Fingerprint Scanner,
            etc.)
          readOnly: true
          example: DK$DFSJaraDD
          x-thorapi-dataField: advanced=true
          x-thorapi-secureField: true
          x-field-extra-annotation: |-
            @DataField(unique = false, hidden = false, advanced = true)
            @SecureField(encryptionType = SecureField.EncryptionType.SYMMETRIC, strength = 5)
        federalIdentification: {pattern: '^\d{3}-\d{2}-\d{4}$', default: 333-22-4444,
          type: string, description: SSN or a 10 digit federal government ID (encrypted),
          example: 111-22-3333, x-thorapi-secureField: true, x-field-extra-annotation: '@SecureField(encryptionType
            = SecureField.EncryptionType.SYMMETRIC, strength = 5)'}
        residenceCountry:
          minLength: 3
          type: string
          description: Country of residence 3-character code
          example: USA
          x-thorapi-dataField: advanced=true
          x-thorapi-secureField: true
          x-field-extra-annotation: |-
            @DataField(unique = false, hidden = false, advanced = true)
            @SecureField(encryptionType = SecureField.EncryptionType.SYMMETRIC, strength = 5)
        stateIdentification:
          minLength: 10
          pattern: ^\d{10}$
          type: string
          description: Driver's License or a 10 digit state government ID
          example: 3333333333
          default: 2222222222
          x-thorapi-dataField: advanced=true
          x-thorapi-secureField: true
          x-field-extra-annotation: |-
            @DataField(unique = false, hidden = false, advanced = true)
            @SecureField(encryptionType = SecureField.EncryptionType.SYMMETRIC, strength = 5)
        residenceState:
          minLength: 2
          type: string
          description: State of residence 2-character code (USA)
          example: CA
          x-thorapi-dataField: advanced=true
          x-thorapi-secureField: true
          x-field-extra-annotation: |-
            @DataField(unique = false, hidden = false, advanced = true)
            @SecureField(encryptionType = SecureField.EncryptionType.SYMMETRIC, strength = 5)
        email:
          pattern: ^[a-zA-Z0-9_!#$%&â€™*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$
          type: string
          description: The main email address for the user (encrypted)
          format: email
          example: wiley.coyote@acme-corp.com
          x-thorapi-dataField: unique=true
          x-field-extra-annotation: |-
            @DataField(unique = true, hidden = false, advanced = false)
            @Column(unique = true)
        social: {type: string, description: The username for your primary social account
            (if any), format: url, example: 'https://twitter.com/ValkyrAI', x-thorapi-secureField: true,
          x-field-extra-annotation: '@SecureField(encryptionType = SecureField.EncryptionType.SYMMETRIC,
            strength = 5)'}
        bio: {type: string, description: More in-depth information about you and your
            account, maxLength: 100000, x-field-extra-annotation: '@Column(length
            = 100000)'}
        notes: {type: string, example: Notes about this account, maxLength: 100000,
          x-field-extra-annotation: '@Column(length = 100000)'}
        avatarUrl: {type: string, description: URL for the user avatar image, format: url,
          example: 'https://img.com/mypic.png'}
        acceptedCookies: {type: boolean, description: Whether the user accepted the
            use of cookies, default: true, x-thorapi-dataField: 'advanced=true, fieldGroup=signup',
          x-field-extra-annotation: '@DataField(unique = false, hidden = false, advanced
            = true)'}
        acceptedTos: {type: boolean, description: Whether the user accepted the terms
            of service, default: true, x-thorapi-dataField: 'advanced=true, fieldGroup=signup',
          x-field-extra-annotation: '@DataField(unique = false, hidden = false, advanced
            = true)'}
        enabled: {type: boolean, description: Spring Security User field whether the
            user is enabled, default: true, x-thorapi-dataField: 'advanced=true, fieldGroup=accountStatus',
          x-field-extra-annotation: '@DataField(unique = false, hidden = false, advanced
            = true)'}
        credentialNonExpired: {type: boolean, description: Spring Security User field
            whether the user's login credentials have expired, default: true, x-thorapi-dataField: 'advanced=true,
            fieldGroup=accountStatus', x-field-extra-annotation: '@DataField(unique
            = false, hidden = false, advanced = true)'}
        accountEnabled: {type: boolean, description: Spring Security User field whether
            the user account is enabled, default: true, x-thorapi-dataField: 'advanced=true,
            fieldGroup=accountStatus', x-field-extra-annotation: '@DataField(unique
            = false, hidden = false, advanced = true)'}
        accountNonLocked: {type: boolean, description: Spring Security User field
            whether the user account is locked, default: true, x-thorapi-dataField: 'advanced=true,
            fieldGroup=accountStatus', x-field-extra-annotation: '@DataField(unique
            = false, hidden = false, advanced = true)'}
        accountNonExpired: {type: boolean, description: Spring Security User field
            whether the user account has expired, default: false, x-thorapi-dataField: 'advanced=true,
            fieldGroup=accountStatus', x-field-extra-annotation: '@DataField(unique
            = false, hidden = false, advanced = true)'}
        roleList:
          description: the roles the the Principal is a member of
          type: array
          items: {$ref: '#/components/schemas/Role'}
        authorityList:
          x-thorapi-dataField: advanced=true, fieldGroup=accountStatus
          description: the granted authorities (or null if the granted authority cannot
            be expressed as a String with sufficient precision).
          type: array
          items: {$ref: '#/components/schemas/Authority'}
          x-field-extra-annotation: '@DataField(unique = false, hidden = false, advanced
            = true)'
        id:
          description: Unique identifier for object in the system
          example: b7beb25a-4c5c-4a01-aa84-8791b6e8df36
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: 6214d5bc-a4c7-4dcd-9c1f-973a8fa39dfa,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: fcf520aa-f1d6-48f7-97d6-fa6b22a41b51,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 697a3a29-106a-44a1-89f2-c656beb0d854,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.691-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      xml: {name: Principal}
    UserPreference:
      type: object
      description: Various System User Preferences
      properties:
        principalId: {type: string, format: uuid}
        preference: {type: string, description: The value of the User Preferences,
          example: darquartz}
        preferenceType:
          type: string
          description: The type of the preference
          enum: [ux-layout, ux-mode, ux-theme, measurement]
        id:
          description: Unique identifier for object in the system
          example: f6655eb6-c955-4538-912d-782d206528b8
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: 78cf9007-f1bd-4f7b-a577-e780117c3de8,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: 84babdca-0ff9-415b-9a9c-2e28489c17c1,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 762505df-08c0-4ea0-b759-e97d74b80772,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
    Login:
      type: object
      description: TODO Login CLASS DESCRIPTION
      properties:
        username: {type: string, maxLength: 64, x-field-extra-annotation: '@Column(length
            = 64)'}
        password: {type: string, x-starter-secureField: true}
        token: {type: string, x-starter-secureField: true}
        authenticatedPrincipalId: {type: string, format: uuid, deprecated: true, description: Deprecated;
            use authenticatedPrincipal}
        authenticatedPrincipal: {$ref: '#/components/schemas/Principal'}
        description: {type: string}
        id:
          description: Unique identifier for object in the system
          example: d3547817-178e-40db-ba85-c5198146cada
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: bbbb5c87-8c4c-4822-8962-1c04877d928a,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: b59ab5dd-78ee-413b-9e38-e28815fc5e8c,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: a0112aa2-385d-4c1e-bcf5-7139e3947854,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
    Logout:
      type: object
      description: Logout functionality
      properties:
        description: {type: string}
        id:
          description: Unique identifier for object in the system
          example: 8e9ec623-fed8-4046-b2f2-15635231feda
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: f69af70c-7b7b-468f-9634-bb8956213721,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: d58b5dc1-b814-41aa-9134-835f0fe4a0a8,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 79096236-b06b-4161-b755-7719fcbcab99,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
    PersistentLogin:
      type: object
      description: Persistent Login for Spring Security
      properties:
        username: {type: string, maxLength: 64, x-field-extra-annotation: '@Column(length
            = 64)'}
        series: {type: string, maxLength: 64, x-field-extra-annotation: '@Column(length
            = 64)'}
        token: {type: string, maxLength: 64, x-field-extra-annotation: '@Column(length
            = 64)'}
        lastUsed: {type: string, format: date-time}
        id:
          description: Unique identifier for object in the system
          example: 696252b9-1e79-41d0-aaea-c58b51184cbb
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: d9b94dce-2224-4af6-b96f-a85297cf8288,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: ccd2a1a8-7eef-48c9-b1eb-6f85d15ea585,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 4de998f8-7faa-4141-8a8f-1019595aec28,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      required: [username, series, token, last_used]
    Role:
      type: object
      description: A Role for a Principal in the system
      properties:
        principalId: {type: string, format: uuid}
        roleName:
          type: string
          description: the role
          enum: [EVERYONE, STAFF, ADMIN]
          x-enum-descriptions: [All Authenticated Users, Staff Role, Admin Role]
          x-enum-varnames: [ROLE_EVERYONE, ROLE_STAFF, ROLE_ADMIN]
          default: EVERYONE
        id:
          description: Unique identifier for object in the system
          example: 3620c2fb-ef8f-45a2-9397-04005f8387e0
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: 90c699e8-77e4-4e47-9852-54a5ddb9bd04,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: d5384087-e76e-480b-ba2b-c4a031f846c9,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 89fcdeb4-7c77-4e75-afc2-3681a4b27d16,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
    Authority:
      type: object
      description: Simple GrantedAuthority mapping for a user
      properties:
        principalId: {type: string, format: uuid}
        username: {type: string, maxLength: 50, x-field-extra-annotation: '@Column(length
            = 50)'}
        authority: {type: string, maxLength: 50, x-field-extra-annotation: '@Column(length
            = 50)'}
        id:
          description: Unique identifier for object in the system
          example: f464d263-91fb-4055-8db7-8e1591b234bb
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        ownerId: {description: UUID of owner of the object in the system, example: 86829224-8815-48aa-af89-4246b9379083,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: 007163e6-21f2-468c-af72-098113786a4b,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 472ef0fa-1724-4519-aeb5-5cbb17f99951,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      required: [username, authority]
    AclSid:
      type: object
      description: |
        Security IDentity (SID). One row per unique principal (username) or GrantedAuthority.
      properties:
        id:
          description: Unique identifier for object in the system
          example: 2a1ffdd4-b2c9-411a-9836-28552684ae17
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        sid: {type: string, maxLength: 245, description: 'Username or authority name
            (e.g., ''anonymousUser'' or ''ROLE_ADMIN'' or a UUID as a string)', x-field-extra-annotation: '@Column(length
            = 245)'}
        principal: {type: boolean, description: 'true if SID refers to a principal
            (username), false if it refers to a GrantedAuthority'}
        ownerId: {description: UUID of owner of the object in the system, example: 43fa2db5-0383-4c18-857d-4e44b3c0e5e3,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: 01a2f01c-6d49-4a16-88b9-52a39d7d089d,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 1682e4f6-53a3-4244-90e5-8da691221eec,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      required: [sid, principal]
    AclClass:
      type: object
      description: Maps a Java class name to an internal ID for ACL usage.
      properties:
        id:
          description: Unique identifier for object in the system
          example: 2e4fc670-12bf-4b3a-8245-48edb715337d
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        _class: {type: string, nullable: false, x-field-extra-annotation: '@Column(name
            = "class")'}
        ownerId: {description: UUID of owner of the object in the system, example: bf50526e-6c3a-4136-9066-d62b97299f78,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: a796cf7c-fb75-432d-9c7e-06e1775a9eed,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 75f1b0a2-4978-40b6-8e51-63a16b18d169,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      required: [_class]
    AclObjectIdentity:
      type: object
      description: One row per secured domain object instance.
      properties:
        id:
          description: Unique identifier for object in the system
          example: 7b29d96e-cb40-4548-be77-badbe46be1f2
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        objectIdClass: {$ref: '#/components/schemas/AclClass', description: Class
            of the secured object}
        objectIdIdentity: {type: string, format: uuid, description: UUID of the specific
            secured object instance}
        parentObject: {$ref: '#/components/schemas/AclObjectIdentity', description: Optional
            parent for hierarchical permissions, nullable: true}
        entriesInheriting: {type: boolean, description: 'If true, entries inherit
            from parent ACL'}
        aclEntries:
          type: array
          items: {$ref: '#/components/schemas/AclEntry'}
          description: ACL entries that define permissions for this object
        parentObjectId: {type: string, format: uuid, nullable: true, deprecated: true,
          description: Deprecated; use parentObject}
        ownerSid: {type: string, format: uuid, deprecated: true, description: Deprecated;
            use owner}
        aclClassId: {type: string, format: uuid, deprecated: true, description: Deprecated;
            use objectIdClass}
        ownerId: {description: UUID of owner of the object in the system, example: b0ebf98b-7213-46a8-86bd-aa761319ba10,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: 322e5ff0-8c4a-456e-8942-5d2fd9b15739,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 21bd2269-0542-4b80-8d0a-4ba74d96fe42,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      required: [objectIdClass, objectIdIdentity, entriesInheriting]
    AclEntry:
      type: object
      description: Individual permission assignment for a recipient (AclSid) on an
        object.
      properties:
        id:
          description: Unique identifier for object in the system
          example: b16d71c4-1493-4f57-b2f7-5193a171f2d9
          format: uuid
          x-field-extra-annotation: "@Id  \n        @GeneratedValue(generator = \"\
            UUID\")"
          type: string
        aclObjectIdentity: {$ref: '#/components/schemas/AclObjectIdentity', description: The
            secured object}
        aceOrder: {type: integer, format: int32, description: Ordering within the
            ACL}
        aclSid: {$ref: '#/components/schemas/AclSid', description: Recipient SID (principal
            or authority)}
        mask: {type: integer, format: int32, description: Bit mask representing the
            granted/denied permission(s)}
        granting: {type: boolean, description: 'true if this is a granting entry,
            false if denying'}
        auditSuccess: {type: boolean, description: Audit on successful authorization}
        auditFailure: {type: boolean, description: Audit on failed authorization}
        aclObjectIdentityIdXX: {type: string, format: uuid, deprecated: true, description: Deprecated;
            use aclObjectIdentity}
        sid: {type: string, format: uuid, deprecated: true, description: Deprecated;
            use aclSid}
        ownerId: {description: UUID of owner of the object in the system, example: ed529b67-d1ae-4013-aabd-27da69647790,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_BY, enabled = true)', type: string}
        createdDate: {description: Date of object creation, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.CREATED_DATE, enabled = true)', type: string}
        keyHash: {type: string, description: 'Data, including hash of the key(s) used
            to encrypt this record.'}
        lastAccessedById: {description: Last user to access object, example: 6696acba-455b-450e-b0ce-f24e9648c380,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_BY, enabled = true)', type: string}
        lastAccessedDate: {description: Timestamp of last access of object, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_ACCESSED_DATE, enabled = true)', type: string}
        lastModifiedById: {description: Unique identifier for user who last modifed
            the object in the system, example: 16912f82-5e1e-485d-a95f-e11db38c8941,
          format: uuid, x-field-extra-annotation: '        @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_BY, enabled = true)', type: string}
        lastModifiedDate: {description: Date of last object modification, example: '2025-11-04T19:22:23.692-0800',
          format: date-time, x-field-extra-annotation: '    @AuditingField(fieldType
            = AuditingField.FieldType.LAST_MODIFIED_DATE, enabled = true)', type: string}
      required: [aclObjectIdentity, aceOrder, aclSid, mask, granting]
  securitySchemes:
    thorapi_auth: {type: http, scheme: bearer, bearerFormat: JWT}
    thorapi_oauth:
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://{username}.valkyrlabs.com:{port}/oauth
          scopes: {'write:items': modify owned items, 'read:items': read owned items}
