# ‚ö°Ô∏è ThorAPI ‚Äî Deterministic Code Generation for Sovereign Systems



# ThorAPI ‚Äî Badges & Logos (Copy/Paste)

> Drop these right under the `# ThorAPI` heading in your README. All are Shields.io badges using official logos where available.

---

## üß∞ Core Project Badges

```markdown
[![Build](https://img.shields.io/github/actions/workflow/status/valkyrlabs/thorapi/ci.yml?branch=main&label=Build&logo=githubactions)](https://github.com/valkyrlabs/thorapi/actions)
[![Release](https://img.shields.io/github/v/release/valkyrlabs/thorapi?display_name=release&logo=semanticrelease&label=Release)](https://github.com/valkyrlabs/thorapi/releases)
[![License](https://img.shields.io/badge/license-Apache--2.0-blue?logo=apache)](https://www.apache.org/licenses/LICENSE-2.0)
[![Generated Code License](https://img.shields.io/badge/generated%20code-MIT-green?logo=open-source-initiative)](./LICENSE)
[![Conventional Commits](https://img.shields.io/badge/commits-conventional-ff69b4?logo=conventionalcommits)](https://www.conventionalcommits.org/en/v1.0.0/)
```

---

## üì¶ Distribution

```markdown
[![Maven Central](https://img.shields.io/maven-central/v/io.valkyr/thorapi-core?logo=apachemaven&label=Maven%20Central)](https://central.sonatype.com/artifact/io.valkyr/thorapi-core)
[![Docker Pulls](https://img.shields.io/docker/pulls/valkyrlabs/thorapi?logo=docker&label=Docker%20pulls)](https://hub.docker.com/r/valkyrlabs/thorapi)
[![Docker Image Size](https://img.shields.io/docker/image-size/valkyrlabs/thorapi/latest?logo=docker&label=Image%20size)](https://hub.docker.com/r/valkyrlabs/thorapi)
```

---

## üõ†Ô∏è Languages & Frameworks

```markdown
![Java](https://img.shields.io/badge/Java-21-ED8B00?logo=openjdk&logoColor=white)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-6DB33F?logo=springboot&logoColor=white)
![OpenAPI](https://img.shields.io/badge/OpenAPI-3.1-6BA539?logo=openapiinitiative&logoColor=white)
![Swagger Codegen](https://img.shields.io/badge/Swagger-Codegen-85EA2D?logo=swagger&logoColor=black)
![TypeScript](https://img.shields.io/badge/TypeScript-SDK-3178C6?logo=typescript&logoColor=white)
![React](https://img.shields.io/badge/React-Client-61DAFB?logo=react&logoColor=black)
![React Native](https://img.shields.io/badge/React%20Native-templates-61DAFB?logo=react&logoColor=black)
![YAML](https://img.shields.io/badge/YAML-specs-CB171E?logo=yaml&logoColor=white)
```

---

## üîí Security & Compliance

```markdown
[![SecureField](https://img.shields.io/badge/SecureField-KMS-3B82F6?logo=key&logoColor=white)](https://valkyrlabs.com)
[![Spring Security](https://img.shields.io/badge/Spring%20Security-ACL-6DB33F?logo=springsecurity&logoColor=white)](https://spring.io/projects/spring-security)
[![OpenSSF Scorecard](https://img.shields.io/ossf-scorecard/github.com/valkyrlabs/thorapi?label=OpenSSF%20Scorecard&logo=openssf)](https://securityscorecards.dev/)
[![Snyk](https://img.shields.io/badge/Snyk-Monitor-4C4A73?logo=snyk)](https://snyk.io)
[![Dependabot](https://img.shields.io/badge/Dependabot-enabled-025E8C?logo=dependabot)](https://docs.github.com/en/code-security/dependabot)
```

---

## üß™ CI/CD & Quality

```markdown
[![CI](https://img.shields.io/github/actions/workflow/status/valkyrlabs/thorapi/ci.yml?logo=githubactions&label=CI)](https://github.com/valkyrlabs/thorapi/actions)
[![Tests](https://img.shields.io/badge/tests-maven--surefire-0A0A0A?logo=testinglibrary)](#)
[![Coverage](https://img.shields.io/codecov/c/github/valkyrlabs/thorapi?logo=codecov)](https://codecov.io/gh/valkyrlabs/thorapi)
[![SonarCloud](https://img.shields.io/badge/SonarCloud-quality--gate-F3702A?logo=sonarcloud&logoColor=white)](https://sonarcloud.io)
[![Release Please](https://img.shields.io/badge/release-please-4285F4?logo=googlecloud)](https://github.com/googleapis/release-please)
```

---

## üîó Ecosystem (Valhalla Suite)

```markdown
[![ValkyrAI](https://img.shields.io/badge/ValkyrAI-Workflows-111827?logo=apachespark&logoColor=white)](https://valkyrlabs.com)
[![ThorAPI](https://img.shields.io/badge/ThorAPI-CodeGen-1F2937?logo=apache&logoColor=white)](https://valkyrlabs.com)
[![ValorIDE](https://img.shields.io/badge/ValorIDE-Agents-0F766E?logo=visualstudiocode&logoColor=white)](https://valkyrlabs.com)
[![GridHeim](https://img.shields.io/badge/GridHeim-Spreadsheets-4B5563?logo=google-sheets&logoColor=white)](https://valkyrlabs.com)
```

---

## üìö Docs & Community

```markdown
[![Docs](https://img.shields.io/badge/Docs-ThorAPI-0EA5E9?logo=readthedocs&logoColor=white)](https://valkyrlabs.com/docs/thorapi)
[![Discussions](https://img.shields.io/badge/GitHub-Discussions-181717?logo=github)](https://github.com/valkyrlabs/thorapi/discussions)
[![Issues](https://img.shields.io/badge/GitHub-Issues-181717?logo=github)](https://github.com/valkyrlabs/thorapi/issues)
[![Good First Issue](https://img.shields.io/github/issues-search/valkyrlabs/thorapi?query=is%3Aopen%20label%3A%22good%20first%20issue%22&label=good%20first%20issues&logo=github)](https://github.com/valkyrlabs/thorapi/issues?q=is%3Aopen+label%3A%22good+first+issue%22)
```

---

## üß™ ‚ÄúAll Logos‚Äù Variant (Kitchen Sink)

> Use sparingly ‚Äî this is intentionally loud for launch days and social cards.

```markdown
![Java](https://img.shields.io/badge/Java-21-ED8B00?logo=openjdk&logoColor=white)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.x-6DB33F?logo=springboot&logoColor=white)
![OpenAPI](https://img.shields.io/badge/OpenAPI-3.1-6BA539?logo=openapiinitiative&logoColor=white)
![Swagger Codegen](https://img.shields.io/badge/Swagger-Codegen-85EA2D?logo=swagger&logoColor=black)
![TypeScript](https://img.shields.io/badge/TypeScript-SDK-3178C6?logo=typescript&logoColor=white)
![React](https://img.shields.io/badge/React-Client-61DAFB?logo=react&logoColor=black)
![React Native](https://img.shields.io/badge/React%20Native-templates-61DAFB?logo=react&logoColor=black)
![Maven](https://img.shields.io/badge/Maven-Central-C71A36?logo=apachemaven&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-Image-2496ED?logo=docker&logoColor=white)
![GitHub Actions](https://img.shields.io/badge/CI-GitHub%20Actions-2088FF?logo=githubactions&logoColor=white)
![Codecov](https://img.shields.io/badge/Coverage-Codecov-F01F7A?logo=codecov&logoColor=white)
![SonarCloud](https://img.shields.io/badge/Quality-SonarCloud-F3702A?logo=sonarcloud&logoColor=white)
![OpenSSF](https://img.shields.io/badge/Supply%20Chain-OpenSSF-3F9AB3?logo=openssf&logoColor=white)
![Snyk](https://img.shields.io/badge/Snyk-Sec-4C4A73?logo=snyk)
![Dependabot](https://img.shields.io/badge/Dependabot-enabled-025E8C?logo=dependabot)
![YAML](https://img.shields.io/badge/YAML-specs-CB171E?logo=yaml&logoColor=white)
![Read the Docs](https://img.shields.io/badge/Docs-ready-8CA1AF?logo=readthedocs&logoColor=white)
```

---

## üîÅ Placement Example

```markdown
# ThorAPI

[![Build](https://img.shields.io/github/actions/workflow/status/valkyrlabs/thorapi/ci.yml?branch=main&label=Build&logo=githubactions)](https://github.com/valkyrlabs/thorapi/actions)
[![Maven Central](https://img.shields.io/maven-central/v/io.valkyr/thorapi-core?logo=apachemaven&label=Maven%20Central)](https://central.sonatype.com/artifact/io.valkyr/thorapi-core)
[![Docker Pulls](https://img.shields.io/docker/pulls/valkyrlabs/thorapi?logo=docker&label=Docker%20pulls)](https://hub.docker.com/r/valkyrlabs/thorapi)
[![Coverage](https://img.shields.io/codecov/c/github/valkyrlabs/thorapi?logo=codecov)](https://codecov.io/gh/valkyrlabs
```


ThorAPI turns OpenAPI specs into secure, production-ready backend services and client SDKs.
It‚Äôs the open-source backbone of Valkyr Labs‚Äô ‚ÄúReverse SaaS‚Äù architecture ‚Äî where developers own the code, the data, and the keys.

‚∏ª

## üß≠ Overview

ThorAPI is a spec-driven code generator that transforms OpenAPI YAML definitions into:
‚Ä¢ Java Spring Boot microservices with RBAC, JWT, ACL, and SecureField integration.
‚Ä¢ TypeScript/React client SDKs generated via Swagger templates.
‚Ä¢ Optional React-Native frontends (coming soon).
‚Ä¢ Auto-wired ValkyrAI workflow JSONs for end-to-end agentic orchestration.

It‚Äôs built for determinism, auditability, and sovereignty ‚Äî every line of code it emits is reproducible from a known spec and template revision.

‚∏ª

## üèóÔ∏è Architecture

```
OpenAPI Spec ‚Üí ThorAPI Core ‚Üí Templates ‚Üí Generated Backend / SDK / Workflow
‚Üë ‚îÇ ‚îÇ ‚Üì
Bundles/Specs ‚Üí Assembler ‚Üí Enhancer ‚Üí api-out.yaml + Generated Code
```

Core Concepts
‚Ä¢ Spec-First: Define your API in openapi/api.yaml.
‚Ä¢ Bundle Assembly: Merge reusable schema bundles and object models dynamically.
‚Ä¢ Enhancement: Apply intelligent type inference, encryption directives, ACL injection, and more.
‚Ä¢ CodeGen: Generate Spring Boot + TypeScript SDKs using deterministic templates.

‚∏ª

## üß© Bundle Assembly Workflow

ThorAPI supports assembling modular bundles (schemas, paths, components) before generation.

1. src/main/resources/openapi/api.yaml is read-only ‚Äî it defines your REST surface.
2. A bundles/ directory beside it contains fragment specs (e.g., user.yaml, invoice.yaml, etc.).
3. During build, ThorAPI merges the bundles into a temporary thorapi-assembled-<uuid>.yaml.
4. Enhancements are applied, producing the final api-out.yaml.
5. Only the enhanced output is written back to disk ‚Äî the temp file is transient and deleted on JVM exit.

Enable Assembly

export THORAPI_ENABLE_BUNDLES=true

or

```bash
mvn spring-boot:run -Dthorapi.enableBundles=true
```

## or programmatically:

```bash
ThorAPI.setBundleAssemblyOverride(true);
```

ThorAPIController enables this automatically during generation requests.

‚∏ª

## üîê Security by Design

ThorAPI enforces field-level security and auditable access control out of the box.

Feature Description
SecureField Annotations Built-in encryption for PII/PHI/PCI fields, integrated with SecureField KMS.
RBAC + ACLs Compatible with ValkyrAIPermissionEvaluator and Spring Security @EnableMethodSecurity.
JWT Auth Generated endpoints include login, token refresh, and tenant isolation.
Audit Logging Automatic WebSocket event streams for runtime traceability.

‚∏ª

## ‚öôÔ∏è Example Usage

git clone https://github.com/valkyrlabs/thorapi.git
cd thorapi
mvn clean install

Place your OpenAPI spec in:

src/main/resources/openapi/api.yaml

Then run:

java -jar target/thorapi.jar generate

Outputs:
‚Ä¢ api-out.yaml (enhanced spec)
‚Ä¢ /generated/ Spring Boot backend
‚Ä¢ /generated-sdk/ TypeScript client
‚Ä¢ Optional /workflow/ ValkyrAI JSON

‚∏ª

## üöÄ Quick Start (Docker)

docker run -it --rm \
 -v $(pwd)/my-specs:/app/specs \
 -v $(pwd)/output:/app/output \
 valkyrlabs/thorapi:latest

‚∏ª

## üß† Integration with the Valhalla Suite

Component Role

- ValkyrAI Executes workflows generated by ThorAPI (OpenAPI ‚Üí AI orchestration).
- SecureField KMS Provides encryption and key management for generated fields.
- ValorIDE Automates PRD execution and project generation via ThorAPI CLI or API.
- GridHeim Offers spreadsheet-native models for dynamic data and formulas.

ThorAPI is open source (ALv2); enterprise security and hosted orchestration layers are part of ValkyrAI Commercial.

‚∏ª

üß™ Example: Generating a Secure API

```yaml
# openapi/api.yaml
components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: string
        email:
          type: string
          x-securefield: encrypt
paths:
  /users:
    get:
      summary: List users
      responses:
        "200":
          description: OK
```

Run ThorAPI:

java -jar thorapi.jar generate

Generated Spring Boot model:

@SecureField
private String email;

‚∏ª

üîß Configuration

Property Default Description
thorapi.enableBundles false Enables bundle assembly
thorapi.outputDir ./generated Destination for generated code
thorapi.specPath ./src/main/resources/openapi/api.yaml Path to input spec
thorapi.templateDir embedded Template set for codegen
thorapi.enhancers DefaultEnhancer Custom enhancement chain

‚∏ª

üí° Developer Notes
‚Ä¢ Built with Java 21, Spring Boot 3.x, and Swagger Codegen.
‚Ä¢ Compatible with Maven Central io.valkyr:thorapi-core.
‚Ä¢ Use alongside ValkyrAI CLI for automated code-to-workflow generation.

‚∏ª

üõ°Ô∏è License
‚Ä¢ Core engine and templates are Apache License 2.0.
‚Ä¢ Generated code is MIT Licensed (you own what you generate).
‚Ä¢ Advanced key management and workflow integration available under ValkyrAI Commercial License.

‚∏ª

üåç Community & Support
‚Ä¢ üìö Docs: https://valkyrlabs.com/docs/thorapi
‚Ä¢ üí¨ Discussions: https://github.com/valkyrlabs/thorapi/issues
‚Ä¢ üß∞ Join the Reverse SaaS Builders movement at https://valkyrlabs.com
‚Ä¢ üßô‚Äç‚ôÇÔ∏è Built by John McMahon and the Valkyr Labs Collective

‚∏ª

ThorAPI ‚Äî because real power is owning the forge that builds your systems.
